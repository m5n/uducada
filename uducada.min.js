/* uducada v0.1 - https://github.com/m5n/uducada */

var uducada=uducada||{};uducada.dialog=(function(){var h,i,c,e,b;function g(k,j){uducada.jsfwk.trigger(k,"button:"+j,[j])}function a(o,n){var k,m,l,j=[];k=(o&&o.length>0)?o.split(","):[];for(l=0;l<k.length;l+=1){m=k[l].split(":");if(n&&m.length<2){throw new Error('Text missing for button event type "'+m[0]+'"')}j.push({type:m[0],text:m.length>1?m[1]:undefined})}return j}function f(l){var j,k;h={};j=a(l.buttonText||"",true);for(k=0;k<j.length;k+=1){h[j[k].type]=j[k].text}i=undefined===l.closeOnEscape?true:l.closeOnEscape;c=undefined===l.draggable?true:l.draggable;e=undefined===l.resizable?true:l.resizable;b=l.showCloseIcon||false}function d(k){var j,l;j=uducada.jsfwk.getDataAttributeValues(k,["buttons","close-on-escape","draggable","modal","resizable","show-close-icon","title","width"]);j.autoOpen=false;j.buttons=a(j.buttons,false);for(l=0;l<j.buttons.length;l+=1){if(!j.buttons[l].text){j.buttons[l].text=h[j.buttons[l].type];if(!j.buttons[l].text){throw new Error('Missing or no default text for button event type "'+j.buttons[l].type+'"')}}}j.closeOnEscape=undefined===j["close-on-escape"]?i:j["close-on-escape"];delete j["close-on-escape"];j.draggable=undefined===j.draggable?c:j.draggable;j.onClick=g;j.resizable=undefined===j.resizable?e:j.resizable;j.showCloseIcon=undefined===j["show-close-icon"]?b:j["show-close-icon"];delete j["show-close-icon"];uducada.uifwk.initDialog(k,j)}f({});uducada.jsfwk.callFunctionForNonSkipInitElements(".dialog",d);return{BUTTON_EVENT_CANCEL:"cancel",init:d,defaults:f}}());var uducada=uducada||{};uducada.jsfwk=(function(d){function a(f,e){d(f).each(function(){var g=d(this);if(!g.data("skip-init")){e(g)}})}function c(f,g){var e={};d.each(g,function(h,i){e[i]=f.data(i)});return e}function b(g,f,e){d(g).trigger(f,e)}return{callFunctionForNonSkipInitElements:a,getDataAttributeValues:c,trigger:b}}(jQuery));var uducada=uducada||{};uducada.uifwk=(function(c){function b(e,f,d){if(c(f.srcElement).hasClass("ui-icon-closethick")||f.keyCode===c.ui.keyCode.ESCAPE){d(e,uducada.dialog.BUTTON_EVENT_CANCEL)}}function a(g,f){var e=[],d;c.each(f.buttons,function(h,i){e.push({text:i.text,click:function(){f.onClick(g,i.type)}})});d=function(h){b(g,h,f.onClick)};g.dialog({autoOpen:f.autoOpen,buttons:e,close:d,closeOnEscape:f.closeOnEscape,dialogClass:f.showCloseIcon?undefined:"uducada-hide-close-icon",draggable:f.draggable,modal:f.modal,resizable:f.resizable,title:f.title,width:f.width})}return{initDialog:a}}(jQuery));